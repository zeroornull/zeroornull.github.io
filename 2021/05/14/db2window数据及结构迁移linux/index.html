<!doctype html>
<html lang="zh"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><meta name="theme-color" content="#123456"><meta name="generator" content="Hexo 4.2.0"><meta><title>db2window数据及结构迁移linux - Zeroornull</title><link rel="manifest" href="/manifest.json"><meta name="theme-color" content="#3273dc"><meta name="application-name" content="zeroornull"><meta name="msapplication-TileImage" content="icons/touch-icon-iphone.png"><meta name="msapplication-TileColor" content="#3273dc"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-title" content="zeroornull"><meta name="apple-mobile-web-app-status-bar-style" content="default"><link rel="apple-touch-icon" sizes="144x144" href="icons/touch-icon-iphone.png"><link rel="apple-touch-icon" sizes="152x152" href="icons/touch-icon-ipad.png"><link rel="apple-touch-icon" sizes="72x72" href="icon/logo.ico"><link rel="apple-touch-icon" sizes="96x96" href="icon/logo.ico"><link rel="apple-touch-icon" sizes="128x128" href="icon/logo.ico"><link rel="apple-touch-icon" sizes="256x256" href="icon/logo.ico"><meta name="description" content="db2window数据及结构迁移linux"><meta property="og:type" content="blog"><meta property="og:title" content="db2window数据及结构迁移linux"><meta property="og:url" content="https://zeroornull.github.io/2021/05/14/db2window%E6%95%B0%E6%8D%AE%E5%8F%8A%E7%BB%93%E6%9E%84%E8%BF%81%E7%A7%BBlinux/"><meta property="og:site_name" content="Zeroornull"><meta property="og:description" content="db2window数据及结构迁移linux"><meta property="og:locale" content="zh_CN"><meta property="og:image" content="https://zeroornull.github.io/img/og_image.png"><meta property="article:published_time" content="2021-05-14T03:37:42.000Z"><meta property="article:modified_time" content="2021-07-26T08:14:14.187Z"><meta property="article:author" content="Zeroornull"><meta property="article:tag" content="db2"><meta property="twitter:card" content="summary"><meta property="twitter:image" content="/img/og_image.png"><script type="application/ld+json">{"@context":"https://schema.org","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"https://zeroornull.github.io/2021/05/14/db2window%E6%95%B0%E6%8D%AE%E5%8F%8A%E7%BB%93%E6%9E%84%E8%BF%81%E7%A7%BBlinux/"},"headline":"db2window数据及结构迁移linux","image":["https://zeroornull.github.io/img/og_image.png"],"datePublished":"2021-05-14T03:37:42.000Z","dateModified":"2021-07-26T08:14:14.187Z","author":{"@type":"Person","name":"Zeroornull"},"description":"db2window数据及结构迁移linux"}</script><link rel="canonical" href="https://zeroornull.github.io/2021/05/14/db2window%E6%95%B0%E6%8D%AE%E5%8F%8A%E7%BB%93%E6%9E%84%E8%BF%81%E7%A7%BBlinux/"><link rel="alternate" href="/path/to/atom.xml" title="Zeroornull" type="application/atom+xml"><link rel="icon" href="/img/favicon.svg"><link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.12.0/css/all.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@9.12.0/styles/atom-one-light.css"><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Ubuntu:wght@400;600&amp;family=Source+Code+Pro"><link rel="stylesheet" href="/css/default.css"><style>body>.footer,body>.navbar,body>.section{opacity:0}</style><!--!--><!--!--><!--!--><!--!--><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/cookieconsent@3.1.1/build/cookieconsent.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/lightgallery@1.6.8/dist/css/lightgallery.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/css/justifiedGallery.min.css"><!--!--><!--!--><script src="https://cdn.jsdelivr.net/npm/pace-js@1.0.2/pace.min.js"></script><!--!--><!--!-->
<style>.github-emoji { position: relative; display: inline-block; width: 1.2em; min-height: 1.2em; overflow: hidden; vertical-align: top; color: transparent; }  .github-emoji > span { position: relative; z-index: 10; }  .github-emoji img, .github-emoji .fancybox { margin: 0 !important; padding: 0 !important; border: none !important; outline: none !important; text-decoration: none !important; user-select: none !important; cursor: auto !important; }  .github-emoji img { height: 1.2em !important; width: 1.2em !important; position: absolute !important; left: 50% !important; top: 50% !important; transform: translate(-50%, -50%) !important; user-select: none !important; cursor: auto !important; } .github-emoji-fallback { color: inherit; } .github-emoji-fallback img { opacity: 0 !important; }</style>
</head><body class="is-3-column"><nav class="navbar navbar-main"><div class="container"><div class="navbar-brand justify-content-center"><a class="navbar-item navbar-logo" href="/">Zeroornull</a></div><div class="navbar-menu"><div class="navbar-start"><a class="navbar-item" href="/">Home</a><a class="navbar-item" href="/archives">Archives</a><a class="navbar-item" href="/categories">Categories</a><a class="navbar-item" href="/tags">Tags</a><a class="navbar-item" href="/about">About</a></div><div class="navbar-end"><a class="navbar-item" target="_blank" rel="noopener" title="GitHub" href="https://github.com">GitHub</a><a class="navbar-item" target="_blank" rel="noopener" title="Download on GitHub" href="https://github.com/zeroornull"><i class="fab fa-github"></i></a><a class="navbar-item search" title="搜索" href="javascript:;"><i class="fas fa-search"></i></a></div></div></div></nav><section class="section"><div class="container"><div class="columns"><div class="column order-2 column-main is-8-tablet is-8-desktop is-6-widescreen"><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><time dateTime="2021-05-14T03:37:42.000Z" title="2021/5/14 上午11:37:42">2021-05-14</time>发表</span><span class="level-item"><time dateTime="2021-07-26T08:14:14.187Z" title="2021/7/26 下午4:14:14">2021-07-26</time>更新</span><span class="level-item"><a class="link-muted" href="/categories/db2/">db2</a></span><span class="level-item">14 分钟读完 (大约2117个字)</span></div></div><h1 class="title is-3 is-size-4-mobile">db2window数据及结构迁移linux</h1><div class="content"><h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>  db2window数据及结构迁移linux</p>
<span id="more"></span>



<p>环境 </p>
<figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">win10 db2v9.5</span><br><span class="line">linux db2v9.7</span><br></pre></td></tr></tbody></table></figure>

<h2 id="一、操作系统相同之脱机备份"><a href="#一、操作系统相同之脱机备份" class="headerlink" title="一、操作系统相同之脱机备份"></a>一、操作系统相同之脱机备份</h2><p>原本准备使用备份backup 与 restore  但是有与系统不同失败了</p>
<figure class="highlight xml"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">--断开连接</span><br><span class="line">db2 force application all  </span><br><span class="line">--备份数据库      </span><br><span class="line">db2 backup database <span class="tag">&lt;<span class="name">db_name</span>&gt;</span> to <span class="tag">&lt;<span class="name">location</span>&gt;</span>   </span><br><span class="line">--恢复数据库，20161101134642 为备份文件时间戳      </span><br><span class="line">db2 restore database <span class="tag">&lt;<span class="name">db_name</span>&gt;</span> from <span class="tag">&lt;<span class="name">location</span>&gt;</span> taken at 20161101134642                                </span><br></pre></td></tr></tbody></table></figure>

<p>据向下兼容原则，版本相同或者低版本的数据库可以还原在高版本上。</p>
<h2 id="二、操作系统不同，或者源数据库版本较高"><a href="#二、操作系统不同，或者源数据库版本较高" class="headerlink" title="二、操作系统不同，或者源数据库版本较高"></a>二、操作系统不同，或者源数据库版本较高</h2><p>DB2 提供了两个非常实用的工具：<br> ★数据迁移工具 db2move<br> ★数据字典获取工具 db2look<br> 以下为Windows 环境迁移到Linux下操作小结：<br> 1、登录Windows&gt;db2cmd,使用 db2move 命令将源数据库（TEST）数据导出至指定的文件夹D:\db2move 下：</p>
<figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">D:\db2move&gt;db2move TEST <span class="built_in">export</span> -u db2inst1 -p 123456 </span><br></pre></td></tr></tbody></table></figure>

<figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"># 另可以将导出操作限制在特定的表(-tn)、表空间(-ts)、表创建者(-tc)、表模式 (-sn)的范围内。</span><br><span class="line">-- db2move TEST export -sn test -u db2inst1 -p 123456（密码）</span><br><span class="line">-- 将test模式下的所有数据导出。</span><br></pre></td></tr></tbody></table></figure>

<p>执行成功后会显示 Disconnecting from database … successful!</p>
<p>2、使用 db2look 命令将数据库结构（DDL文件） 导出至指定的文件夹D:\db2look下：</p>
<figure class="highlight css"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">D:\db2look&gt; db2look -d TEST -e -a -o db2look_TEST.sql</span><br></pre></td></tr></tbody></table></figure>

<p>ps：参数说明：<br> -d 为指定数据库，必须参数<br> -e 抽取数据库对象的DDL，必须参数<br> -a 所有用户和模式，(-u test01 可以指定用户， -a 和 -u 都没有时默认当前登录用户)<br> -o 指定输出文件名称</p>
<p>3、将db2move和db2look文件上传至Linux系统下：<br>4、Linux下db2用户登录，同步数据结构，载入数据：</p>
<p>★更新表结构：</p>
<figure class="highlight ruby"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">su - <span class="symbol">db2inst1:</span></span><br><span class="line"><span class="symbol">password:</span><span class="number">123456</span>  </span><br><span class="line">db2inst1<span class="variable">@localhost</span><span class="symbol">:~/db2back/db2look&gt;</span> db2 -tvf db2look_TEST.sql</span><br></pre></td></tr></tbody></table></figure>

<p>出现缺表可能是表空间太小</p>
<p>注意选择较大的表空间即可</p>
<p>参考 <a target="_blank" rel="noopener" href="https://blog.csdn.net/weixin_33901641/article/details/90500494">https://blog.csdn.net/weixin_33901641/article/details/90500494</a></p>
<p>具体指令为</p>
<figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">#创建pagesize为32K的bufferpool</span><br><span class="line">db2 =&gt; create BUFFERPOOL bigbuffer SIZE 5000 PAGESIZE 32K</span><br><span class="line">DB20000I  The SQL command completed successfully.</span><br><span class="line"> </span><br><span class="line">#创建pagesize为32K的tablespace，同时使用新创建的bufferpool</span><br><span class="line">db2 =&gt; CREATE TABLESPACE bigtablespace PAGESIZE 32K BUFFERPOOL bigbuffer</span><br><span class="line">DB20000I  The SQL command completed successfully.</span><br></pre></td></tr></tbody></table></figure>



<p>★装载数据：</p>
<figure class="highlight ruby"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">db2inst1<span class="variable">@localhost</span><span class="symbol">:~/db2back/db2move&gt;</span> db2move TEST load </span><br></pre></td></tr></tbody></table></figure>

<p>在这需要注意操作角色需要有对于文件的写入权限且 load指令在含有db2move.list的目录下</p>
<p>操作顺利的话，数据已迁移至linux&gt;db2。要注意几个问题：<br>★关于表模式</p>
<blockquote>
<p>关于表模式，Windows下面默认用户db2admin ,默认表模式也是db2admin ，而linux下面的默认用户是db2inst1 表模式也是db2inst1，<br> 所以需要做以下处理：<br> D:\DBBack\CNAS\db2look\TEST\db2look_TEST.sql里面的db2admin字符全部替换成db2inst1<br> D:\DBBack\CNAS\db2move\TEST\db2move.lst 也做同样的操作</p>
</blockquote>
<p>★CHECK表状态，修改暂挂状态的表</p>
<blockquote>
<p>在db2move过程中会有些表因为检查约束可能会处于暂挂状态，需要执行SET INTEGRITY命令来恢复它的暂挂状态。<br>可以从系统表中检索处于检查暂挂状态的表信息 Select tabname from syscat.tables where status=’C’ —暂挂状态的表信息<br>对暂挂的表执行</p>
</blockquote>
<figure class="highlight csharp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">set</span> integrity <span class="keyword">for</span> usertbl ALLOW NO ACCESS immediate checked   </span><br></pre></td></tr></tbody></table></figure>

<p>遗漏的表</p>
<blockquote>
<p>导出的时候，可能会有个别表的数据丢失，这时候只能对相应的表执行db2move命令重新load了，如果还是不行就重建表再load<br>load单个表的命令</p>
</blockquote>
<figure class="highlight css"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">db2 load <span class="selector-tag">from</span> tab11<span class="selector-class">.ixf</span> of ixf terminate into db2admin<span class="selector-class">.tablename</span>  --tab11<span class="selector-class">.ixf</span>对应的是tablename表</span><br></pre></td></tr></tbody></table></figure>

<figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">关键，可能需要</span><br><span class="line">call sysproc.admin_cmd (‘reorg table schema名.表名’)</span><br></pre></td></tr></tbody></table></figure>



<h2 id="三、Linux下数据导出"><a href="#三、Linux下数据导出" class="headerlink" title="三、Linux下数据导出"></a>三、Linux下数据导出</h2><p>参看: <a target="_blank" rel="noopener" href="http://www.ibm.com/developerworks/cn/education/data/db2-cert7315/section6.html">http://www.ibm.com/developerworks/cn/education/data/db2-cert7315/section6.html</a> </p>
<p>和 </p>
<p><a target="_blank" rel="noopener" href="http://www.ibm.com/developerworks/cn/data/library/techarticles/dm-0712xiam/index.html?ca=drs">http://www.ibm.com/developerworks/cn/data/library/techarticles/dm-0712xiam/index.html?ca=drs</a></p>
<p><strong>The below is how to do the db2 data migration.</strong></p>
<p>(1).Export source data from source DB(导出至指定数据库)</p>
<figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">db2move &lt;database_name&gt; export -sn &lt;database_schema&gt; -u &lt;DBA&gt; -p &lt;DBA_PASSWORD&gt; &gt; &lt;logFile&gt;</span><br><span class="line">db2move sample export -sn NPMM -u db2inst1 -p db2inst1</span><br></pre></td></tr></tbody></table></figure>

<p>For example:</p>
<figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">db2move GEHGAL export -sn GEH_ADMIN -u GEH_ADMIN -p GEH_ADMIN &gt; mv.log</span><br></pre></td></tr></tbody></table></figure>

<p>If you want to export the db DDL schema from source DB, you should use the below db2 commands:</p>
<figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">db2look -d GEHGAL -e -o ddlfile -i GEH_ADMIN -w GEH_ADMIN</span><br></pre></td></tr></tbody></table></figure>

<p>or</p>
<figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">db2look -d GEHGAL -u GEH_ADMIN -e -o alltables.sql</span><br><span class="line">db2look -d sample -z NPMM -u db2inst1 -e -o NP.sql</span><br></pre></td></tr></tbody></table></figure>

<p>以上为导出</p>
<p>(2).Create a 32k normal or large tablespace</p>
<figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">db2 CREATE LARGE TABLESPACE LARGEGEHGAL32 PAGESIZE 32 K MANAGED BY DATABASE USING (FILE 'C:\DB2\NODE0000\SQL00001\largegehgal32' 20000) BUFFERPOOL IBMDEFAULT32K</span><br></pre></td></tr></tbody></table></figure>

<p>(3).Create the db2 user that should be same name as exported <database_schema> that is from source DB in target DB2 database, assign the 32k tablespace to the user, and delete the other tablespaces<br>(4).Code page from target DB should be same as the code page of source DB. You should use the following command to check:</database_schema></p>
<figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">db2 get db cfg</span><br></pre></td></tr></tbody></table></figure>

<p>If they are different, change the code page in target DB, use the following command:</p>
<figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">db2set db2codepage=1252 (1252 is the page code of source DB)</span><br><span class="line">db2 terminate</span><br></pre></td></tr></tbody></table></figure>

<p><code>db2 terminate command must be executed(**注意一定要进行terminate**)</code><br>(5).Create a 16k or 32k temporary tablespace. It will be used when you view the Project Exception List from deployed GEH GUI</p>
<figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">DB2 CREATE TEMPORARY TABLESPACE gehgalsystemtmp32 IN DATABASE PARTITION GROUP IBMTEMPGROUP PAGESIZE 32K MANAGED BY SYSTEM USING ('C:\DB2\NODE0000\SQL00001\gehgalsystemtmp32') EXTENTSIZE 32 PREFETCHSIZE 16 BUFFERPOOL IBMDEFAULT32K</span><br></pre></td></tr></tbody></table></figure>

<p>(6).Import the data into the target DB</p>
<figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">db2move &lt;database_name&gt; import -io create -u &lt;DBA&gt; -p &lt;DBA_PASSWORD&gt; &gt; &lt;logFile&gt;</span><br></pre></td></tr></tbody></table></figure>

<p>For example:</p>
<figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">db2move GEHGAL import -io create -u GEH_MIGRATION -p Gal@pass &gt; imp.log</span><br></pre></td></tr></tbody></table></figure>

<p>Check the imp.log whether the import operation is successful.</p>
<p>If the table schema has been created/existed in target DB, so you can use the following command:</p>
<figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">db2move GEHGAL import -io INSERT_UPDATE -u GEH_MIGRATION -p Gal@pass &gt; imp.log</span><br></pre></td></tr></tbody></table></figure>

<p>(7).If the export operation is successful, and you will find some tables in [color=green]userspace1 tablespace[/color], and the other tables in [color=green]LARGEGEHGAL32 tablespace[/color]<br>(8).If there are some procedures in your db schema, you should [color=green]execute the procedures that will not be imported into target database[/color]<br>(9).You should change the tables that have identify column if you want to store new messages in the target DB. The below is the commands that reset the identify value of EXCEPTION_MESSAGE table.</p>
<figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">select max(EXCEPTION_MESSAGE_ID) from EXCEPTION_MESSAGE</span><br><span class="line">$nextMessageId = max(EXCEPTION_MESSAGE_ID) + 1</span><br><span class="line">alter table EXCEPTION_MESSAGE alter column EXCEPTION_MESSAGE_ID restart with $nextMessageId</span><br></pre></td></tr></tbody></table></figure>

<p>import usage</p>
<figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">db2move &lt;database-name&gt; &lt;action&gt; [&lt;option&gt; &lt;value&gt;]</span><br></pre></td></tr></tbody></table></figure>

<p>首先，您必须指定数据库名（想要移动的表所在的数据库）和要执行的操作(export和import或load)。然后指定一个选项来定义操作的范围。例如，可以将一个操作限制在特定的表（-tn）、表空间（-ts）、表创建者（-tc）或模式名（-sn）范围内。指定表、表空间或表的创建者的一个子集只对export操作有效。如果指定多个值，就必须使用逗号将其分隔开；在值列表项之间不允许有空格。可以指定的项最多为10个。</p>
<p>另外，也可以指定-tf选项，此时要使用一个文件名作为参数，其中列出了要导出的表名；在该文件中，每行只能列出一个完整的表名。您还可以指定以下内容：<br>-io import-option<br>指定DB2的import工具可以运行的一种模式。有效的选项有：CREATE、INSERT、INSERT_UPDATE、REPLACE和REPLACE_CREATE。缺省值为REPLACE_CREATE。</p>
<p>参看: <a target="_blank" rel="noopener" href="http://publib.boulder.ibm.com/infocenter/db2luw/v8/index.jsp?topic=/com.ibm.db2.udb.doc/core/r0008304.html">http://publib.boulder.ibm.com/infocenter/db2luw/v8/index.jsp?topic=/com.ibm.db2.udb.doc/core/r0008304.html</a></p>
<p>-lo load-option<br>指定DB2的load工具可以运行的一种模式。有效的选项有：INSERT和REPLACE。缺省值为INSERT。</p>
<p>-l lobpaths<br>指定要创建或查找的LOB文件的位置。必须指定一个或多个绝对路径名。如果指定了多个绝对路径，就必须使用逗号将其分隔开；值之间不允许有空格。缺省值是当前目录。</p>
<p>-u userid<br>指定一个用户ID，该工具可以使用这个用户ID登录到远程系统上。</p>
<p>-p password<br>指定对该用户进行认证的密码；该工具需要使用一个有效的用户ID和密码登录到远程系统上。</p>
<p>[b]db2codepage 设置[/b]<br>1、db2 变量查看<br>db2set -all<br>(connect to dbanme ) get db cfg<br>db2pd -osinfo</p>
<p>2、db2c变量的设置用命令<br>db2set 变量=value<br>可以参考一下：<br>客户端：<br>db2codepage=1386(简体中文)<br>db2country=86(中国)<br>db2comm=tcpip</p>
<p>服务器端：<br>db2codepage=1386(简体中文)<br>db2country=86(中国)<br>db2comm=tcpip<br>一定要把缺省的db2codepage=819改为数据库的代码页设置</p>
</div><div class="article-licensing box"><div class="licensing-title"><p>db2window数据及结构迁移linux</p><p><a href="https://zeroornull.github.io/2021/05/14/db2window数据及结构迁移linux/">https://zeroornull.github.io/2021/05/14/db2window数据及结构迁移linux/</a></p></div><div class="licensing-meta level is-mobile"><div class="level-left"><div class="level-item is-narrow"><div><h6>作者</h6><p>Zeroornull</p></div></div><div class="level-item is-narrow"><div><h6>发布于</h6><p>2021-05-14</p></div></div><div class="level-item is-narrow"><div><h6>更新于</h6><p>2021-07-26</p></div></div><div class="level-item is-narrow"><div><h6>许可协议</h6><p><a class="icon" rel="noopener" target="_blank" title="Creative Commons" href="https://creativecommons.org/"><i class="fab fa-creative-commons"></i></a><a class="icon" rel="noopener" target="_blank" title="Attribution" href="https://creativecommons.org/licenses/by/4.0/"><i class="fab fa-creative-commons-by"></i></a><a class="icon" rel="noopener" target="_blank" title="Noncommercial" href="https://creativecommons.org/licenses/by-nc/4.0/"><i class="fab fa-creative-commons-nc"></i></a></p></div></div></div></div></div><div class="article-tags is-size-7 mb-4"><span class="mr-2">#</span><a class="link-muted mr-2" rel="tag" href="/tags/db2/">db2</a></div><div class="sharethis-inline-share-buttons"></div><script src="https://platform-api.sharethis.com/js/sharethis.js#property=60667abe39329f00123aea68&amp;product=sticky-share-buttons" defer></script></article></div><div class="card"><div class="card-content"><h3 class="menu-label has-text-centered">喜欢这篇文章？打赏一下作者吧</h3><div class="buttons is-centered"><a class="button donate" href="https://www.afdian.net/@zeroornull" target="_blank" rel="noopener" data-type="afdian"><span class="icon is-small"><i class="fas fa-charging-station"></i></span><span>爱发电</span></a><a class="button donate" data-type="alipay"><span class="icon is-small"><i class="fab fa-alipay"></i></span><span>支付宝</span><span class="qrcode"><img src="https://qr.alipay.com/fkx00721flijbw5hdn0kab5" alt="支付宝"></span></a></div></div></div><nav class="post-navigation mt-4 level is-mobile"><div class="level-start"><a class="article-nav-prev level level-item link-muted" href="/2021/05/16/redis%E7%AC%94%E8%AE%B0/"><i class="level-item fas fa-chevron-left"></i><span class="level-item">最近的Redis笔记</span></a></div><div class="level-end"><a class="article-nav-next level level-item link-muted" href="/2021/05/13/DB2v9.7Linux%E5%AE%89%E8%A3%85/"><span class="level-item">DB2v9.7Express-CLinux下安装</span><i class="level-item fas fa-chevron-right"></i></a></div></nav><!--!--></div><div class="column column-left is-4-tablet is-4-desktop is-3-widescreen  order-1"><div class="card widget" data-type="profile"><div class="card-content"><nav class="level"><div class="level-item has-text-centered flex-shrink-1"><div><figure class="image is-128x128 mx-auto mb-2"><img class="avatar is-rounded" src="https://z3.ax1x.com/2021/07/27/WhycSH.gif" alt="Zeroornull"></figure><p class="title is-size-4 is-block" style="line-height:inherit;">Zeroornull</p><p class="is-size-6 is-block">just one newbie</p><p class="is-size-6 is-flex justify-content-center"><i class="fas fa-map-marker-alt mr-1"></i><span>ShangHai</span></p></div></div></nav><nav class="level is-mobile"><div class="level-item has-text-centered is-marginless"><div><p class="heading">文章</p><a href="/archives"><p class="title">19</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">分类</p><a href="/categories"><p class="title">14</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">标签</p><a href="/tags"><p class="title">14</p></a></div></div></nav><div class="level"><a class="level-item button is-primary is-rounded" href="https://github.com/zeroornull" target="_blank" rel="noopener">关注我</a></div><div class="level is-mobile is-multiline"><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Github" href="https://github.com/zeroornull"><i class="fab fa-github"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="SinaBlog" href="https://weibo.com/u/3027767592"><i class="fa-brands fa-weibo"></i></a></div></div></div><!--!--><div class="card widget" data-type="links"><div class="card-content"><div class="menu"><h3 class="menu-label">链接</h3><ul class="menu-list"><li><a class="level is-mobile" href="https://hexo.io" target="_blank" rel="noopener"><span class="level-left"><span class="level-item">Hexo</span></span><span class="level-right"><span class="level-item tag">hexo.io</span></span></a></li><li><a class="level is-mobile" href="https://bulma.io" target="_blank" rel="noopener"><span class="level-left"><span class="level-item">Bulma</span></span><span class="level-right"><span class="level-item tag">bulma.io</span></span></a></li></ul></div></div></div><div class="card widget" data-type="categories"><div class="card-content"><div class="menu"><h3 class="menu-label">分类</h3><ul class="menu-list"><li><a class="level is-mobile" href="/categories/DeepLearning/"><span class="level-start"><span class="level-item">DeepLearning</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/Java/"><span class="level-start"><span class="level-item">Java</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/SpringCloud/"><span class="level-start"><span class="level-item">SpringCloud</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/db2/"><span class="level-start"><span class="level-item">db2</span></span><span class="level-end"><span class="level-item tag">4</span></span></a></li><li><a class="level is-mobile" href="/categories/eladmin/"><span class="level-start"><span class="level-item">eladmin</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/es/"><span class="level-start"><span class="level-item">es</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/githubpage/"><span class="level-start"><span class="level-item">githubpage</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/linux/"><span class="level-start"><span class="level-item">linux</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/nginx/"><span class="level-start"><span class="level-item">nginx</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/redis/"><span class="level-start"><span class="level-item">redis</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/sql/"><span class="level-start"><span class="level-item">sql</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/vue/"><span class="level-start"><span class="level-item">vue</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/%E5%B0%8F%E5%AD%A6%E7%94%9F%E4%BD%9C%E6%96%87-%E6%88%91%E7%9A%84%E7%94%9F%E6%B4%BB/"><span class="level-start"><span class="level-item">小学生作文-我的生活</span></span><span class="level-end"><span class="level-item tag">3</span></span></a></li><li><a class="level is-mobile" href="/categories/%E7%AE%97%E6%B3%95/"><span class="level-start"><span class="level-item">算法</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li></ul></div></div></div><div class="card widget" data-type="subscribe-email"><div class="card-content"><div class="menu"><h3 class="menu-label">订阅更新</h3><form action="https://feedburner.google.com/fb/a/mailverify" method="post" target="popupwindow" onsubmit="window.open(&#039;https://feedburner.google.com/fb/a/mailverify?uri=&#039;,&#039;popupwindow&#039;,&#039;scrollbars=yes,width=550,height=520&#039;);return true"><input type="hidden" value="" name="uri"><input type="hidden" name="loc" value="en_US"><div class="field has-addons"><div class="control has-icons-left is-expanded"><input class="input" name="email" type="email" placeholder="Email"><span class="icon is-small is-left"><i class="fas fa-envelope"></i></span></div><div class="control"><input class="button" type="submit" value="订阅"></div></div></form></div></div></div><div class="column-right-shadow is-hidden-widescreen"></div></div><div class="column column-right is-4-tablet is-4-desktop is-3-widescreen is-hidden-touch is-hidden-desktop-only order-3"><div class="card widget" data-type="recent-posts"><div class="card-content"><h3 class="menu-label">最新文章</h3><article class="media"><div class="media-content"><p class="date"><time dateTime="2021-08-13T00:28:25.000Z">2021-08-13</time></p><p class="title"><a href="/2021/08/13/Java%E7%BA%BF%E7%A8%8B%E6%B1%A0%E5%AD%A6%E4%B9%A0%E6%80%BB%E7%BB%93/">Java线程池学习总结</a></p><p class="categories"><a href="/categories/Java/">Java</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2021-08-03T15:40:07.000Z">2021-08-03</time></p><p class="title"><a href="/2021/08/03/%E8%B7%AF%E4%B8%8A%E7%9A%84%E7%8B%97%E5%AD%90/">路上的狗子</a></p><p class="categories"><a href="/categories/%E5%B0%8F%E5%AD%A6%E7%94%9F%E4%BD%9C%E6%96%87-%E6%88%91%E7%9A%84%E7%94%9F%E6%B4%BB/">小学生作文-我的生活</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2021-07-29T14:25:07.000Z">2021-07-29</time></p><p class="title"><a href="/2021/07/29/%E6%99%9A%E4%B8%8A10%E7%82%B9%E5%87%BA%E9%97%A8%E6%90%9E%E5%A4%9C%E5%AE%B5/">晚上10点出门搞夜宵</a></p><p class="categories"><a href="/categories/%E5%B0%8F%E5%AD%A6%E7%94%9F%E4%BD%9C%E6%96%87-%E6%88%91%E7%9A%84%E7%94%9F%E6%B4%BB/">小学生作文-我的生活</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2021-07-26T06:00:16.000Z">2021-07-26</time></p><p class="title"><a href="/2021/07/26/%E4%BD%BF%E7%94%A8cloudflare%E5%8A%A0%E9%80%9FgithubPage/">使用cloudflare免费加速github page</a></p><p class="categories"><a href="/categories/githubpage/">githubpage</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2021-07-23T00:52:07.000Z">2021-07-23</time></p><p class="title"><a href="/2021/07/23/%E9%B8%B5%E9%B8%9F%E8%9B%8B/">鸵鸟蛋</a></p><p class="categories"><a href="/categories/%E5%B0%8F%E5%AD%A6%E7%94%9F%E4%BD%9C%E6%96%87-%E6%88%91%E7%9A%84%E7%94%9F%E6%B4%BB/">小学生作文-我的生活</a></p></div></article></div></div><div class="card widget" data-type="archives"><div class="card-content"><div class="menu"><h3 class="menu-label">归档</h3><ul class="menu-list"><li><a class="level is-mobile" href="/archives/2021/08/"><span class="level-start"><span class="level-item">八月 2021</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/archives/2021/07/"><span class="level-start"><span class="level-item">七月 2021</span></span><span class="level-end"><span class="level-item tag">3</span></span></a></li><li><a class="level is-mobile" href="/archives/2021/06/"><span class="level-start"><span class="level-item">六月 2021</span></span><span class="level-end"><span class="level-item tag">3</span></span></a></li><li><a class="level is-mobile" href="/archives/2021/05/"><span class="level-start"><span class="level-item">五月 2021</span></span><span class="level-end"><span class="level-item tag">6</span></span></a></li><li><a class="level is-mobile" href="/archives/2021/04/"><span class="level-start"><span class="level-item">四月 2021</span></span><span class="level-end"><span class="level-item tag">5</span></span></a></li></ul></div></div></div><div class="card widget" data-type="tags"><div class="card-content"><div class="menu"><h3 class="menu-label">标签</h3><div class="field is-grouped is-grouped-multiline"><div class="control"><a class="tags has-addons" href="/tags/DeepLearning/"><span class="tag">DeepLearning</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Java/"><span class="tag">Java</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/SpringCloud/"><span class="tag">SpringCloud</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/db2/"><span class="tag">db2</span><span class="tag">4</span></a></div><div class="control"><a class="tags has-addons" href="/tags/eladmin/"><span class="tag">eladmin</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/es/"><span class="tag">es</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/githubpage/"><span class="tag">githubpage</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/linux/"><span class="tag">linux</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/nginx/"><span class="tag">nginx</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/redis/"><span class="tag">redis</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/sql/"><span class="tag">sql</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/vue/"><span class="tag">vue</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E5%B0%8F%E5%AD%A6%E7%94%9F%E4%BD%9C%E6%96%87-%E6%88%91%E7%9A%84%E7%94%9F%E6%B4%BB/"><span class="tag">小学生作文-我的生活</span><span class="tag">3</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E7%AE%97%E6%B3%95/"><span class="tag">算法</span><span class="tag">1</span></a></div></div></div></div></div></div></div></div></section><footer class="footer"><div class="container"><div class="level"><div class="level-start"><a class="footer-logo is-block mb-2" href="/">Zeroornull</a><p class="is-size-7"><span>&copy; 2021 Zeroornull</span>  Powered by <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a> &amp; <a href="https://github.com/ppoffice/hexo-theme-icarus" target="_blank" rel="noopener">Icarus</a><br><a href="http://www.beian.miit.gov.cn/" target="_blank">皖ICP备2021011041号-1</a></p></div><div class="level-end"><div class="field has-addons"><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Creative Commons" href="https://creativecommons.org/"><i class="fab fa-creative-commons"></i></a></p><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Attribution 4.0 International" href="https://creativecommons.org/licenses/by/4.0/"><i class="fab fa-creative-commons-by"></i></a></p><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Download on GitHub" href="https://github.com/ppoffice/hexo-theme-icarus"><i class="fab fa-github"></i></a></p></div></div></div></div></footer><script src="https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/moment@2.22.2/min/moment-with-locales.min.js"></script><script src="https://cdn.jsdelivr.net/npm/clipboard@2.0.4/dist/clipboard.min.js" defer></script><script>moment.locale("zh-CN");</script><script>var IcarusThemeSettings = {
            article: {
                highlight: {
                    clipboard: true,
                    fold: 'unfolded'
                }
            }
        };</script><script src="/js/column.js"></script><script src="/js/animation.js"></script><a id="back-to-top" title="回到顶端" href="javascript:;"><i class="fas fa-chevron-up"></i></a><script src="/js/back_to_top.js" defer></script><!--!--><!--!--><!--!--><script src="https://cdn.jsdelivr.net/npm/cookieconsent@3.1.1/build/cookieconsent.min.js" defer></script><script>window.addEventListener("load", () => {
      window.cookieconsent.initialise({
        type: "info",
        theme: "edgeless",
        static: false,
        position: "bottom-left",
        content: {
          message: "此网站使用Cookie来改善您的体验。",
          dismiss: "知道了！",
          allow: "允许使用Cookie",
          deny: "拒绝",
          link: "了解更多",
          policy: "Cookie政策",
          href: "https://www.cookiesandyou.com/",
        },
        palette: {
          popup: {
            background: "#edeff5",
            text: "#838391"
          },
          button: {
            background: "#4b81e8"
          },
        },
      });
    });</script><script src="https://cdn.jsdelivr.net/npm/lightgallery@1.6.8/dist/js/lightgallery.min.js" defer></script><script src="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/js/jquery.justifiedGallery.min.js" defer></script><script>window.addEventListener("load", () => {
            if (typeof $.fn.lightGallery === 'function') {
                $('.article').lightGallery({ selector: '.gallery-item' });
            }
            if (typeof $.fn.justifiedGallery === 'function') {
                if ($('.justified-gallery > p > .gallery-item').length) {
                    $('.justified-gallery > p > .gallery-item').unwrap();
                }
                $('.justified-gallery').justifiedGallery();
            }
        });</script><!--!--><!--!--><!--!--><!--!--><!--!--><script src="/js/main.js" defer></script><div class="searchbox"><div class="searchbox-container"><div class="searchbox-header"><div class="searchbox-input-container"><input class="searchbox-input" type="text" placeholder="想要查找什么..."></div><a class="searchbox-close" href="javascript:;">×</a></div><div class="searchbox-body"></div></div></div><script src="/js/insight.js" defer></script><script>document.addEventListener('DOMContentLoaded', function () {
            loadInsight({"contentUrl":"/content.json"}, {"hint":"想要查找什么...","untitled":"(无标题)","posts":"文章","pages":"页面","categories":"分类","tags":"标签"});
        });</script></body></html>